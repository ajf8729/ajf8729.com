<!doctype html><html lang=en-us>
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Part I: Initial VM Setup">
<meta name=twitter:image content="https://ajf8729.com/icon.png">
<body class=not-ready data-menu=true>
<header class=header>
<p class=logo>
<a class=site-name href=https://ajf8729.com/>AJF8729</a><a class=btn-dark></a>
</p>
<script>let bodyClx=document.body.classList,btnDark=document.querySelector('.btn-dark'),sysDark=window.matchMedia('(prefers-color-scheme: dark)'),darkVal=localStorage.getItem('dark'),setDark=a=>{bodyClx[a?'add':'remove']('dark'),localStorage.setItem('dark',a?'yes':'no')};setDark(darkVal?darkVal==='yes':sysDark.matches),requestAnimationFrame(()=>bodyClx.remove('not-ready')),btnDark.addEventListener('click',()=>setDark(!bodyClx.contains('dark'))),sysDark.addEventListener('change',a=>setDark(a.matches))</script>
<nav class=menu>
<a href=/about/>About</a>
<a href=/resume/>Resume</a>
<a href=/lab-configuration/>Lab Configuration</a>
</nav>
<nav class=social>
<a class=twitter style=--url:url(./twitter.svg) href=https://twitter.com/ajf8729 target=_blank></a>
<a class=github style=--url:url(./github.svg) href=https://github.com/ajf8729 target=_blank></a>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-title>
<aside>
<time>August 28, 2021</time>
</aside>
<h1>Part I: Initial VM Setup</h1>
</header>
<section class=post-content><p>In Part I, we will build two virtual machines, one to serve as an Active Directory Domain Controller, and the other to server as a ConfigMgr primary site server.</p>
<hr>
<ol>
<li>Build VMs
<ul>
<li><a href=https://github.com/ajf8729/Lab/blob/main/01-BuildVMs.ps1>https://github.com/ajf8729/Lab/blob/main/01-BuildVMs.ps1</a></li>
</ul>
</li>
<li>Start VMs and install Windows Server 2022 Datacenter GUI</li>
<li>Set Administrator passwords and log in to VMs</li>
<li>Configure hostnames
<ul>
<li>LABDC01A: <code>Rename-Computer -NewName LABDC01A</code></li>
<li>LABCM01: <code>Rename-Computer -NewName LABCM01</code></li>
</ul>
</li>
<li>Configure IP addresses
<ul>
<li>LABDC01A: <code>New-NetIPAddress -InterfaceAlias Ethernet -AddressFamily IPv4 -IPAddress 172.20.1.51 -PrefixLength 24 -DefaultGateway 172.20.1.1</code></li>
<li>LABCM01: <code>New-NetIPAddress -InterfaceAlias Ethernet -AddressFamily IPv4 -IPAddress 172.20.1.52 -PrefixLength 24 -DefaultGateway 172.20.1.1</code></li>
</ul>
</li>
<li>Configure DNS servers
<ul>
<li><code>Set-DnsClientServerAddress -InterfaceAlias Ethernet -ServerAddresses @("172.20.1.13","172.20.1.19")</code></li>
</ul>
</li>
<li>Configure time zone
<ul>
<li><code>Set-TimeZone -Id "Eastern Standard Time"</code></li>
</ul>
</li>
<li>Configure PSGallery & install PSWindowsUpdate
<ul>
<li><code>Install-PackageProvider -Name NuGet -Force</code></li>
<li><code>Register-PSRepository -Default</code></li>
<li><code>Set-PSRepository -Name PSGallery -InstallationPolicy Trusted</code></li>
<li><code>Install-Module -Name PSWindowsUpdate</code></li>
</ul>
</li>
<li>Install Windows Updates
<ul>
<li><code>Import-Module -Name PSWindowsUpdate</code></li>
<li><code>Get-WindowsUpdate -AcceptAll -Install -Verbose</code></li>
</ul>
</li>
</ol>
</section>
<nav class=post-nav>
<a class=prev href=https://ajf8729.com/post/part-ii-ad-install-config/><span>←</span><span>Part II: Active Directory - Installation & Configuration</span></a>
</nav>
</article>
</main>
<footer class=footer>
<p>&copy; 2021 <a href=https://ajf8729.com/>AJF8729</a></p>
<p>Powered by <a href=https://gohugo.io/ rel=noopener target=_blank>Hugo️️</a>️</p>
<p>
<a href=https://github.com/nanxiaobei/hugo-paper rel=noopener target=_blank>Paper 5.0</a>
</p>
</footer>
</body>
</html>